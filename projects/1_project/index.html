<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Detecting Earthquakes using Satellites | Tim Dittmann </title> <meta name="author" content="Tim Dittmann"> <meta name="description" content="GPS with ML"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://timdittmann.github.io/projects/1_project/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Tim</span> Dittmann </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/posts/index.html">posts </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Detecting Earthquakes using Satellites</h1> <p class="post-description">GPS with ML</p> </header> <article> <p>In this project:</p> <ol> <li><a href="#end-to-end-ml">Motivation</a></li> <li><a href="#model-training-highlights">ML Strategy</a></li> <li><a href="#real-time-inference-experiment">Real-time Inference Implementation</a></li> </ol> <h1 id="end-to-end-ml">End-to-end ML.</h1> <p>Continously operating remote GPS (or more broadly <a href="https://www.earthscope.org/what-is/gps/gnss-vs-gps/" rel="external nofollow noopener" target="_blank">GNSS</a>) ground stations exist globably, built and operated to support positioning, navigation and timing services such as surveying, reference frames and geophysics. In geophysics, historically these were built for measuring plate motion (…think large slow processes…). However, if sampled and estimated at higher frequencies, these GPS will track the ground motion of an earthquake, valuable for analysis of earthquake mechanics. If this data is streamed in real-time, this is valuable information for hazard monitoring and early warning, especially when existing networks are <a href="http://www.grapenthin.org/download/Grapenthin_etal_2017_iniskin_eew.pdf" rel="external nofollow noopener" target="_blank">sparse</a> or earthquakes are <a href="https://youtu.be/tLjGJFWLSvY?si=82EO4YemWWwEjgQH&amp;t=385" rel="external nofollow noopener" target="_blank">really large</a> (and consequently generally the most destructive).</p> <p>However, using GPS for these signals has challenges: these can be relatively weak signals amidst complex noise. Existing strategies require other instruments to resolve false alerts. Instead we wish to reduce external dependencies and increased decision confidence at the individual node level to propogate to more rapid event-awareness.</p> <p>We used machine learning (<img class="emoji" title=":evergreen_tree:" alt=":evergreen_tree:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f332.png" height="20" width="20"><code class="language-plaintext highlighter-rouge">random forest</code><img class="emoji" title=":evergreen_tree:" alt=":evergreen_tree:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f332.png" height="20" width="20">) to classify seismic events in GNSS data that outperform the current methods. We then share our ongoing effort taking this offline research into realtime inference for low latency detection.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/project1/figure_3-480.webp 480w,/assets/img/project1/figure_3-800.webp 800w,/assets/img/project1/figure_3-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/project1/figure_3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <hr> <blockquote> <p><strong><em>Wait!</em></strong> Everything these days is End-to-end: <em>What end? To what (to which?) end?</em></p> </blockquote> <hr> <ol> <li> <strong>One End:</strong> Raw GPS measurements from fixed ground stations.</li> <li> <strong>The other end:</strong> Real time inference for actionable earthquake insight.</li> </ol> <h1 id="model-training-highlights">Model training highlights:</h1> <p>covered in <a class="citation" href="#Dittmann2022b">(Dittmann et al., 2022)</a>:</p> <ul> <li> <img class="emoji" title=":artificial_satellite:" alt=":artificial_satellite:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f6f0.png" height="20" width="20"> <strong>Geodesy:</strong> 5Hz GNSS <a href="https://github.com/crowellbw/SNIVEL" rel="external nofollow noopener" target="_blank">TDCP processing</a> using broadcast ephemeris and narrow lane.</li> <li> <img class="emoji" title=":chart_with_upwards_trend:" alt=":chart_with_upwards_trend:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f4c8.png" height="20" width="20"> <strong>Seismology:</strong> ~2k waveforms from ~80 earthquakes &gt;M4.9 labeled by visual inspection.</li> <li> <img class="emoji" title=":computer:" alt=":computer:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f4bb.png" height="20" width="20"> <strong>ML:</strong> Random forest classifier with 5 fold nested cross validation optimized for F1 score.</li> <li> <img class="emoji" title=":memo:" alt=":memo:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f4dd.png" height="20" width="20"> <strong>Open Science:</strong> <a href="https://doi.org/10.1029/2022JB024854" rel="external nofollow noopener" target="_blank">open <strong>manuscript</strong>.</a> + <a href="https://github.com/timdittmann/gnss_vel_classifier" rel="external nofollow noopener" target="_blank"><strong>code</strong> repo.</a> + <a href="https://zenodo.org/records/7909327" rel="external nofollow noopener" target="_blank">open <strong>datasets</strong>.</a> </li> </ul> <div class="row justify-content-sm-center"> <div class="col-sm-4 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/project1/figure_2-480.webp 480w,/assets/img/project1/figure_2-800.webp 800w,/assets/img/project1/figure_2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/project1/figure_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm-8 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/project1/figure_7-480.webp 480w,/assets/img/project1/figure_7-800.webp 800w,/assets/img/project1/figure_7-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/project1/figure_7.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> (L) Map of seismic focal mechanisms used in this work and distribution of 77 event magnitudes. (R) Performance of Random forest model developed in the work here across the entire event catalog. </div> <p><img src="/assets/img/project1/tsRF.gif" alt="drawing" width="75%"></p> <div class="caption"> Velocity and detection time series from a station experiencing a weaker event and adjacent "noise" event. Middle panels b/c show alerts using the current detection methods. Panel d is an <b>example of the RF classifier of this work. </b> </div> <h1 id="real-time-inference-experiment">Real time inference experiment</h1> <h2 id="components">Components:</h2> <ul> <li> <strong>stream processing platform:</strong> Apache Kafka in AWS MSK. <ul> <li>this incredibly powerful pub/sub platform had a steep learning curve for me, with a lot left to learn. I appreciate <a href="https://docs.redpanda.com/current/get-started/quick-start/" rel="external nofollow noopener" target="_blank">Redpanda+docker compose</a> for deploying local clusters for development.</li> </ul> </li> <li> <strong>autoscaling, low latency model endpoint:</strong> AWS Sagemaker (Python SDK) <ul> <li>Like much of AWS, there are many steps along the way w.r.t. how commited you are to their services versus open source or external services. I found the sagemaker SDK to be currently a balance for fast iteration of deploying training jobs and model endpoints of familiar open source ML libraries (scikitlearn + tensorflow)</li> </ul> </li> <li> <strong>stateful stream processing (windowing + invoke endpoint):</strong> <a href="https://bytewax.io/" rel="external nofollow noopener" target="_blank">Bytewax</a> <ul> <li>I experimented with Faust and Bytewax for pythonic Kafka stream processing, and found Bytewax to be the most intuitive for windowing feature extraction and inference.</li> </ul> </li> </ul> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Apache_kafka_wordtype.svg/2560px-Apache_kafka_wordtype.svg-480.webp 480w,https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Apache_kafka_wordtype.svg/2560px-Apache_kafka_wordtype.svg-800.webp 800w,https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Apache_kafka_wordtype.svg/2560px-Apache_kafka_wordtype.svg-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Apache_kafka_wordtype.svg/2560px-Apache_kafka_wordtype.svg.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="https://images.ctfassets.net/paqvtpyf8rwu/htf2EtvdmoTDv2knt2VYq/1077d9a11cf7a07fdf8cfd7abe0b1764/migrating-kafka-to-redpanda-events-480.webp 480w,https://images.ctfassets.net/paqvtpyf8rwu/htf2EtvdmoTDv2knt2VYq/1077d9a11cf7a07fdf8cfd7abe0b1764/migrating-kafka-to-redpanda-events-800.webp 800w,https://images.ctfassets.net/paqvtpyf8rwu/htf2EtvdmoTDv2knt2VYq/1077d9a11cf7a07fdf8cfd7abe0b1764/migrating-kafka-to-redpanda-events-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="https://images.ctfassets.net/paqvtpyf8rwu/htf2EtvdmoTDv2knt2VYq/1077d9a11cf7a07fdf8cfd7abe0b1764/migrating-kafka-to-redpanda-events.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="https://d1.awsstatic.com/product-marketing/IronMan/AWS-service-icon_sagemaker.5ccec16f16a04ed56cb1d7f02dcdada8de261923-480.webp 480w,https://d1.awsstatic.com/product-marketing/IronMan/AWS-service-icon_sagemaker.5ccec16f16a04ed56cb1d7f02dcdada8de261923-800.webp 800w,https://d1.awsstatic.com/product-marketing/IronMan/AWS-service-icon_sagemaker.5ccec16f16a04ed56cb1d7f02dcdada8de261923-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="https://d1.awsstatic.com/product-marketing/IronMan/AWS-service-icon_sagemaker.5ccec16f16a04ed56cb1d7f02dcdada8de261923.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="https://rtp.vc/wp-content/uploads/2023/11/logo_white-background-transparent-480.webp 480w,https://rtp.vc/wp-content/uploads/2023/11/logo_white-background-transparent-800.webp 800w,https://rtp.vc/wp-content/uploads/2023/11/logo_white-background-transparent-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="https://rtp.vc/wp-content/uploads/2023/11/logo_white-background-transparent.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h2 id="operational-performance">Operational Performance:</h2> <p>[This is under development!]</p> </article> <h2>References</h2> <div class="publications"> <h2 class="bibliography">2022</h2> <ol class="bibliography"><li> <div class="row"> <div class="col-sm-2 abbr"> </div> <div id="Dittmann2022b" class="col-sm-8"> <div class="title">Supervised Machine Learning of High Rate GNSS Velocities for Earthquake Strong Motion Signals</div> <div class="author"> T. Dittmann , Y. Liu , Y. Morton , and <span class="more-authors" title="click to view 1 more author" onclick=" var element=$(this); element.attr('title', ''); var more_authors_text=element.text() == '1 more author' ? 'D. Mencin' : '1 more author'; var cursorPosition=0; var textAdder=setInterval(function(){ element.text(more_authors_text.substring(0, cursorPosition + 1)); if (++cursorPosition == more_authors_text.length){ clearInterval(textAdder); } }, '10'); ">1 more author</span> </div> <div class="periodical"> <em>Journal of Geophysical Research: Solid Earth</em>, 2022 </div> <div class="periodical"> </div> <div class="links"> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@article</span><span class="p">{</span><span class="nl">Dittmann2022b</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{Supervised Machine Learning of High Rate GNSS Velocities for Earthquake Strong Motion Signals}</span><span class="p">,</span>
  <span class="na">volume</span> <span class="p">=</span> <span class="s">{127}</span><span class="p">,</span>
  <span class="na">issn</span> <span class="p">=</span> <span class="s">{2169-9356}</span><span class="p">,</span>
  <span class="na">url</span> <span class="p">=</span> <span class="s">{http://dx.doi.org/10.1029/2022JB024854}</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{10.1029/2022jb024854}</span><span class="p">,</span>
  <span class="na">number</span> <span class="p">=</span> <span class="s">{11}</span><span class="p">,</span>
  <span class="na">journal</span> <span class="p">=</span> <span class="s">{Journal of Geophysical Research: Solid Earth}</span><span class="p">,</span>
  <span class="na">publisher</span> <span class="p">=</span> <span class="s">{American Geophysical Union (AGU)}</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{Dittmann, T. and Liu, Y. and Morton, Y. and Mencin, D.}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2022}</span><span class="p">,</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li></ol> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Tim Dittmann. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>